/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import {
  AppBskyFeedDefsPostView,
  AppBskyFeedDefsPostView$inboundSchema,
  AppBskyFeedDefsPostView$Outbound,
  AppBskyFeedDefsPostView$outboundSchema,
} from "./appbskyfeeddefspostview.js";
import {
  AppBskyFeedDefsReasonPin,
  AppBskyFeedDefsReasonPin$inboundSchema,
  AppBskyFeedDefsReasonPin$Outbound,
  AppBskyFeedDefsReasonPin$outboundSchema,
} from "./appbskyfeeddefsreasonpin.js";
import {
  AppBskyFeedDefsReasonRepost,
  AppBskyFeedDefsReasonRepost$inboundSchema,
  AppBskyFeedDefsReasonRepost$Outbound,
  AppBskyFeedDefsReasonRepost$outboundSchema,
} from "./appbskyfeeddefsreasonrepost.js";
import {
  AppBskyFeedDefsReplyRef,
  AppBskyFeedDefsReplyRef$inboundSchema,
  AppBskyFeedDefsReplyRef$Outbound,
  AppBskyFeedDefsReplyRef$outboundSchema,
} from "./appbskyfeeddefsreplyref.js";

export type Reason = AppBskyFeedDefsReasonPin | AppBskyFeedDefsReasonRepost;

export type AppBskyFeedDefsFeedViewPost = {
  post: AppBskyFeedDefsPostView;
  reply?: AppBskyFeedDefsReplyRef | undefined;
  reason?: AppBskyFeedDefsReasonPin | AppBskyFeedDefsReasonRepost | undefined;
  /**
   * Context provided by feed generator that may be passed back alongside interactions.
   */
  feedContext?: string | undefined;
};

/** @internal */
export const Reason$inboundSchema: z.ZodType<Reason, z.ZodTypeDef, unknown> = z
  .union([
    AppBskyFeedDefsReasonPin$inboundSchema,
    AppBskyFeedDefsReasonRepost$inboundSchema,
  ]);

/** @internal */
export type Reason$Outbound =
  | AppBskyFeedDefsReasonPin$Outbound
  | AppBskyFeedDefsReasonRepost$Outbound;

/** @internal */
export const Reason$outboundSchema: z.ZodType<
  Reason$Outbound,
  z.ZodTypeDef,
  Reason
> = z.union([
  AppBskyFeedDefsReasonPin$outboundSchema,
  AppBskyFeedDefsReasonRepost$outboundSchema,
]);

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace Reason$ {
  /** @deprecated use `Reason$inboundSchema` instead. */
  export const inboundSchema = Reason$inboundSchema;
  /** @deprecated use `Reason$outboundSchema` instead. */
  export const outboundSchema = Reason$outboundSchema;
  /** @deprecated use `Reason$Outbound` instead. */
  export type Outbound = Reason$Outbound;
}

export function reasonToJSON(reason: Reason): string {
  return JSON.stringify(Reason$outboundSchema.parse(reason));
}

export function reasonFromJSON(
  jsonString: string,
): SafeParseResult<Reason, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Reason$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Reason' from JSON`,
  );
}

/** @internal */
export const AppBskyFeedDefsFeedViewPost$inboundSchema: z.ZodType<
  AppBskyFeedDefsFeedViewPost,
  z.ZodTypeDef,
  unknown
> = z.object({
  post: AppBskyFeedDefsPostView$inboundSchema,
  reply: AppBskyFeedDefsReplyRef$inboundSchema.optional(),
  reason: z.union([
    AppBskyFeedDefsReasonPin$inboundSchema,
    AppBskyFeedDefsReasonRepost$inboundSchema,
  ]).optional(),
  feedContext: z.string().optional(),
});

/** @internal */
export type AppBskyFeedDefsFeedViewPost$Outbound = {
  post: AppBskyFeedDefsPostView$Outbound;
  reply?: AppBskyFeedDefsReplyRef$Outbound | undefined;
  reason?:
    | AppBskyFeedDefsReasonPin$Outbound
    | AppBskyFeedDefsReasonRepost$Outbound
    | undefined;
  feedContext?: string | undefined;
};

/** @internal */
export const AppBskyFeedDefsFeedViewPost$outboundSchema: z.ZodType<
  AppBskyFeedDefsFeedViewPost$Outbound,
  z.ZodTypeDef,
  AppBskyFeedDefsFeedViewPost
> = z.object({
  post: AppBskyFeedDefsPostView$outboundSchema,
  reply: AppBskyFeedDefsReplyRef$outboundSchema.optional(),
  reason: z.union([
    AppBskyFeedDefsReasonPin$outboundSchema,
    AppBskyFeedDefsReasonRepost$outboundSchema,
  ]).optional(),
  feedContext: z.string().optional(),
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace AppBskyFeedDefsFeedViewPost$ {
  /** @deprecated use `AppBskyFeedDefsFeedViewPost$inboundSchema` instead. */
  export const inboundSchema = AppBskyFeedDefsFeedViewPost$inboundSchema;
  /** @deprecated use `AppBskyFeedDefsFeedViewPost$outboundSchema` instead. */
  export const outboundSchema = AppBskyFeedDefsFeedViewPost$outboundSchema;
  /** @deprecated use `AppBskyFeedDefsFeedViewPost$Outbound` instead. */
  export type Outbound = AppBskyFeedDefsFeedViewPost$Outbound;
}

export function appBskyFeedDefsFeedViewPostToJSON(
  appBskyFeedDefsFeedViewPost: AppBskyFeedDefsFeedViewPost,
): string {
  return JSON.stringify(
    AppBskyFeedDefsFeedViewPost$outboundSchema.parse(
      appBskyFeedDefsFeedViewPost,
    ),
  );
}

export function appBskyFeedDefsFeedViewPostFromJSON(
  jsonString: string,
): SafeParseResult<AppBskyFeedDefsFeedViewPost, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => AppBskyFeedDefsFeedViewPost$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'AppBskyFeedDefsFeedViewPost' from JSON`,
  );
}
